(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{138:function(t,n,e){"use strict";e.r(n);e(168);var a=e(6),i=e.n(a),r=e(47),o=e.n(r),s=e(0),c=e.n(s),u=e(147),h=(e(27),e(140)),l=e.n(h),d=e(156),f=e.n(d);var p=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).handleRef=n.handleRef.bind(o()(o()(n))),n}i()(n,t),f()(n,null,[{key:"defaultProps",get:function(){return{width:800,height:600}}}]);var e=n.prototype;return e.handleRef=function(t){t&&(this.canvas=t,this.ctx=t.getContext("2d"),function(t,n){if("undefined"!=typeof window){var e=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,a=(window.devicePixelRatio||1)/e;a>1&&(t.style.height=t.height+"px",t.style.width=t.width+"px",t.width*=a,t.height*=a,n.scale(a,a))}}(this.canvas,this.ctx),this.props.innerRef(this.canvas,this.ctx))},e.render=function(){var t=this.props,n=(t.innerRef,l()(t,["innerRef"]));return c.a.createElement("canvas",Object.assign({ref:this.handleRef},n))},n}(s.PureComponent),v=(e(142),function(t){function n(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).handleRef=n.handleRef.bind(o()(o()(n))),n}i()(n,t),f()(n,null,[{key:"defaultProps",get:function(){return{innerRef:function(){}}}}]);var e=n.prototype;return e.handleRef=function(t){t&&(this.audio=t,this.props.innerRef(t))},e.render=function(){var t=this.props,n=(t.innerRef,l()(t,["innerRef"]));return c.a.createElement("audio",Object.assign({ref:this.handleRef},n))},n}(s.PureComponent)),w=e(173),m=e.n(w),g=function(t){function n(n){var e;return(e=t.call(this,n)||this).handleAudioRef=e.handleAudioRef.bind(o()(o()(e))),e.handleCanvasRef=e.handleCanvasRef.bind(o()(o()(e))),e.draw=e.draw.bind(o()(o()(e))),e}i()(n,t);var e=n.prototype;return e.handleAudioRef=function(t){var n=new(window.AudioContext||window.webkitAudioContext);this.analyser=n.createAnalyser(),this.analyser.fftSize=256,this.audio=t,this.audioContext=n,n.createMediaElementSource(t).connect(this.analyser),this.analyser.connect(n.destination),this.currentAudioSamples=new Uint8Array(this.analyser.frequencyBinCount),this.tryStartDrawing()},e.handleCanvasRef=function(t){this.canvas=t,this.canvasContext=t.getContext("2d"),this.canvasContext.lineWidth=1,this.canvasContext.strokeStyle="white",this.tryStartDrawing()},e.tryStartDrawing=function(){this.canvas&&this.audio&&this.draw()},e.draw=function(){0,window.requestAnimationFrame(this.draw);var t=this.canvasContext.getImageData(0,0,500,500);this.canvasContext.clearRect(0,0,500,500),this.analyser.getByteTimeDomainData(this.currentAudioSamples);var n=50/this.currentAudioSamples.length;this.canvasContext.putImageData(t,100,0),this.canvasContext.beginPath();for(var e=0;e<this.currentAudioSamples.length;e++){var a=n*e,i=500*(this.currentAudioSamples[e]/128)/2;0===e?this.canvasContext.moveTo(a,i):this.canvasContext.lineTo(a,i)}this.canvasContext.stroke()},e.render=function(){return c.a.createElement("div",null,c.a.createElement(p,{width:500,height:500,innerRef:this.handleCanvasRef}),c.a.createElement(v,{src:m.a,controls:!0,innerRef:this.handleAudioRef}))},n}(c.a.Component),R=function(){return c.a.createElement("p",{className:"major"},"I'm a musician and programmer.")};n.default=function(){return c.a.createElement(u.a,{demo:c.a.createElement(g,null),about:c.a.createElement(R,null)})}},142:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var a=e(6),i=e.n(a),r=e(47),o=e.n(r),s=e(0),c=function(t){function n(n){var e;return(e=t.call(this,n)||this).state={progress:0,lastTickAt:null},e.tick=e.tick.bind(o()(o()(e))),e}i()(n,t);var e=n.prototype;return e.componentDidMount=function(){this.start()},e.start=function(){this.setState({lastTickAt:new Date},this.tick)},e.tick=function(){var t=this;this.requestAnimationFrameId=window.requestAnimationFrame(function(){var n=t.state,e=n.lastTickAt,a=n.progress,i=new Date,r=a+function(t,n){return(t-n)/1e3}(i,e)*t.props.speed;t.setState({lastTickAt:i,progress:r},t.tick)})},e.render=function(){return this.props.children(this.state.progress)},n}(e.n(s).a.Component)},147:function(t,n,e){"use strict";var a=e(0),i=e.n(a);n.a=function(t){return window?i.a.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:t.backgroundColor||"black"}},t.demo):null}},173:function(t,n,e){t.exports=e.p+"static/Polyglot-55a64b98835fc199750890c135d3d933.wav"}}]);
//# sourceMappingURL=component---src-pages-sketches-parallax-song-landscapes-js-fc0ba92d4075867f6602.js.map